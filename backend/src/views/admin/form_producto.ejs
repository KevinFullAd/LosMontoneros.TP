<%- include('../partials/header', { title: producto ? 'Editar producto' : 'Nuevo producto' }) %>

<div class="card shadow-sm p-4">
    <h1 class="mb-4"><%= producto ? 'Editar producto' : 'Nuevo producto' %></h1>

    <form method="post" action="<%= producto ? `/api/admin/productos/${producto.id}?_method=PUT` : '/api/admin/productos' %>">
        <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input name="nombre" value="<%= producto?.nombre ?? '' %>" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Descripción</label>
            <textarea name="descripcion" class="form-control" required><%= producto?.descripcion ?? '' %></textarea>
        </div>

        <div class="mb-3">
            <label class="form-label">Precio</label>
            <input type="number" step="0.01" name="precio" value="<%= producto?.precio ?? '' %>" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Imagen URL</label>
            <input name="imagen" value="<%= producto?.imagen ?? '' %>" class="form-control" required>
        </div>

        <div class="mb-3">
            <label class="form-label">Categoría</label>
            <input name="categoria" value="<%= producto?.categoria ?? '' %>" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-primary">Guardar</button>
        <a href="/admin/dashboard" class="btn btn-secondary ms-2">Cancelar</a>
    </form>
</div>
